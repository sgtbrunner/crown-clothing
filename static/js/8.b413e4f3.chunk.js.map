{"version":3,"sources":["redux/shop/shop.actions.js","pages/shop/shop.page.jsx"],"names":["fetchCollectionsStartAsync","dispatch","collectionRef","firestore","collection","type","shopActionTypes","FETCH_COLLECTIONS_START","get","then","snapshot","collectionsMap","convertCollectionsSnapshotToMap","FETCH_COLLECTIONS_SUCCESS","payload","fetchCollectionsSuccess","catch","error","errorMessage","message","FETCH_COLLECTIONS_FAILURE","CollectionPageContainer","lazy","CollectionsOverviewContainer","connect","match","useEffect","className","fallback","exact","path","component"],"mappings":"iLAqBaA,EAA6B,WACxC,OAAO,SAACC,GACN,IAAMC,EAAgBC,IAAUC,WAAW,eAC3CH,EAjBwC,CAC1CI,KAAMC,IAAgBC,0BAkBpBL,EACGM,MACAC,MAAK,SAACC,GACL,IAAMC,EAAiBC,YAAgCF,GACvDT,EAnB+B,SAACU,GAAD,MAAqB,CAC1DN,KAAMC,IAAgBO,0BACtBC,QAASH,GAiBMI,CAAwBJ,OAElCK,OAAM,SAACC,GAAD,OAAWhB,GAhBeiB,EAgBiBD,EAAME,QAhBL,CACvDd,KAAMC,IAAgBc,0BACtBN,QAASI,KAF2B,IAACA,O,QCRjCG,EAA0BC,gBAAK,kBAAM,gCACrCC,EAA+BD,gBAAK,kBAAM,gCA4BjCE,sBAAQ,MAJI,SAACvB,GAAD,MAAe,CACxCD,2BAA4B,kBAAMC,EAASD,SAG9BwB,EA1BE,SAAC,GAA2C,IAAzCxB,EAAwC,EAAxCA,2BAA4ByB,EAAY,EAAZA,MAK9C,OAJAC,qBAAU,WACR1B,MACC,CAACA,IAGF,yBAAK2B,UAAU,aACb,kBAAC,WAAD,CAAUC,SAAU,kBAAC,IAAD,OAClB,kBAAC,IAAD,CACEC,OAAK,EACLC,KAAI,UAAKL,EAAMK,MACfC,UAAWR,IAEb,kBAAC,IAAD,CACEO,KAAI,UAAKL,EAAMK,KAAX,kBACJC,UAAWV","file":"static/js/8.b413e4f3.chunk.js","sourcesContent":["import shopActionTypes from './shop.types';\n\nimport {\n  firestore,\n  convertCollectionsSnapshotToMap,\n} from '../../services/firebase.service';\n\nexport const fetchCollectionsStart = () => ({\n  type: shopActionTypes.FETCH_COLLECTIONS_START,\n});\n\nexport const fetchCollectionsSuccess = (collectionsMap) => ({\n  type: shopActionTypes.FETCH_COLLECTIONS_SUCCESS,\n  payload: collectionsMap,\n});\n\nexport const fetchCollectionFailure = (errorMessage) => ({\n  type: shopActionTypes.FETCH_COLLECTIONS_FAILURE,\n  payload: errorMessage,\n});\n\nexport const fetchCollectionsStartAsync = () => {\n  return (dispatch) => {\n    const collectionRef = firestore.collection('collections');\n    dispatch(fetchCollectionsStart());\n\n    collectionRef\n      .get()\n      .then((snapshot) => {\n        const collectionsMap = convertCollectionsSnapshotToMap(snapshot);\n        dispatch(fetchCollectionsSuccess(collectionsMap));\n      })\n      .catch((error) => dispatch(fetchCollectionFailure(error.message)));\n  };\n};\n","import React, { useEffect, lazy, Suspense } from 'react';\nimport { Route } from 'react-router-dom';\nimport { connect } from 'react-redux';\n\nimport { fetchCollectionsStartAsync } from '../../redux/shop/shop.actions';\n\nimport Spinner from '../../components/spinner/spinner.component';\n\nconst CollectionPageContainer = lazy(() => import('../collection/collection.container'));\nconst CollectionsOverviewContainer = lazy(() => import('../../components/collections-overview/collections-overview.container'));\n\nconst ShopPage = ({ fetchCollectionsStartAsync, match }) => {\n  useEffect(() => {\n    fetchCollectionsStartAsync();\n  }, [fetchCollectionsStartAsync]);\n\n  return (\n    <div className=\"shop-page\">\n      <Suspense fallback={<Spinner />}>\n        <Route\n          exact\n          path={`${match.path}`}\n          component={CollectionsOverviewContainer}\n        />\n        <Route\n          path={`${match.path}/:collectionId`}\n          component={CollectionPageContainer}\n        />\n      </Suspense>\n    </div>\n  );\n};\n\nconst mapDispatchToProps = (dispatch) => ({\n  fetchCollectionsStartAsync: () => dispatch(fetchCollectionsStartAsync()),\n});\n\nexport default connect(null, mapDispatchToProps)(ShopPage);\n"],"sourceRoot":""}